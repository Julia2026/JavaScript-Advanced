<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Classwork</title>
  <script>
    /*
      Завдання:
         1. Використовуючи інтерфейс який є на сторінці, написати візуальний
         конструктор об'єктів використовуючи значення key-value, які вводяться в
         відповідні поля у формі.

         2. Кожен створений об'єкт виводити в тег code після додавання кожного
         нового поля. Тобто ми маємо візуально бачити в якому стані наші об'єкти
         зараз

         3. Після натискання кнопки Combine Objects! два об'єкти повинні об'єднатися
         використовуючи метод Object.assing або spread operator і вивестися на стрінчку.

         * Змінювати HTML можна.

    */
   /*
     window.addEventListener('DOMContentLoaded', function(){
      var assigneds = document.querySelectorAll('.assigned');
      var resultBlock = document.querySelector('.resultBlock');
      var resBtn = document.querySelector('button');
      var obj1 = {};
      var obj2 = {};

      assigneds.forEach(function(assigned){
        var sendBtn = assigned.querySelector('button');
        sendBtn.addEventListener('click', function(e){
          var form = assigned.querySelector('.ObjForm');
          var inputKey = form.elements.key;
          var inputValue = form.elements.value;
          var key = inputKey.value;
          var value = inputValue.value;

          if(assigned.querySelector('.first')){
            var obj = obj1;
          } else {
            var obj = obj2;
          }
          obj[key] = value;
          var createObj = assigned.querySelector('.createdObj');
          if(createObj.querySelector('code')){
            var arr = createObj.querySelector('code');
            for (var i = 0; i < arr.length; i++){
              createObj.removeChild(createObj.querySelector('code'));
            };
          }
          for(var j in obj){
            var code = document.createElement('code');
            code.innerHTML = i + ':' + obj[i] + '<br/>';
            createObj.appendChild(code);
          }
          
        });
      })
      resBtn.addEventListener('click', function(){
        var resultObj = {};
        Object.assign(resultObj,obj1,obj2)
        var divResult = document.getElementById('result');
        if(divResult.querySelector('code') ) {
            var arr = divResult.querySelectorAll('code')  
          for(var w = 0;w < arr.length;w++){
            divResult.removeChild(divResult.querySelector('code'))
          }
        }
        for(var i in resultObj) { 
            var code = document.createElement('code');
            
            code.innerHTML =  i + " : " + resultObj[i] + '<br/>';
            divResult.appendChild(code) 
                        
        }
      });
    });
    */
    window.addEventListener("load", function(){
      	let key1 = document.getElementById("key1");
      	let value1 = document.getElementById("value1");
    		let btn1 = document.getElementById("btn1");
    		let code1 = document.getElementById("code1");

    		let key2 = document.getElementById("key2");
      	let value2 = document.getElementById("value2");
      	let btn2 = document.getElementById("btn2");
    		let code2 = document.getElementById("code2");
    		let result = document.getElementById("result");
      		
      		
      	let combineBTN = document.getElementById("combineBTN");
      	let firstObj;
      	let obj_1;
      	let secondObj;
      	let obj_2;
	      
      	btn1.addEventListener("click", function(e){
      		e.preventDefault();
      		let key_1 =key1.value;
      		let value_1 = value1.value + "</br>";
	      	firstObj = {[key_1]: value_1 } ;
	      	obj_1 = Object.assign({}, firstObj, obj_1);
	      	let a = JSON.stringify(obj_1);
	      	code1.innerHTML = a ;
        });

    		btn2.addEventListener("click", function(e){
      		e.preventDefault();
      		let key_2 =key2.value;
      		let value_2 = value2.value + "</br>";
	    		secondObj = {[key_2]: value_2 } ;
	    		obj_2 = Object.assign({},obj_2,secondObj);
	      	let b = JSON.stringify(obj_2);
				  code2.innerHTML = b ;
        });

        combineBTN.addEventListener("click", function(e){
      		let combineObj = Object.assign({}, obj_1, obj_2);
    			console.log(combineObj);
    			let c = JSON.stringify(combineObj);
				  result.innerHTML = c;
      	});
      });
  </script>
</head>
<body>
  <div class="wrap">
      <div class="assigned">
        <form class="ObjForm">
            <input name="key" id="key1" placeholder="Enter your key"/>
            <input name="value" id="value1" placeholder="Enter your value"/>
            <button type="submit" id="btn1">Send</button>
        </form>
        <div class="createResult">
          <header>
            Created Object
          </header>
          <div class="createdObj">
            <code id="code1">
              
            </code>
          </div>
        </div>
      </div>

      <div class="assigned">
        <form class="ObjForm">
            <input name="key2" id="key2" placeholder="Enter your key"/>
            <input name="value2" id="value2" placeholder="Enter your value"/>
            <button type="submit2" id="btn2">Send</button>
          </form>
          <div class="createResult">
            <header>
              Created Object
            </header>
            <div class="createdObj">
              <code id="code2">
               
              </code>
            </div>
          </div>
      </div>
    </div>
    <div class="resultBlock">
       <button id="combineBTN">Combine Objects!</button>
      <h3> Result: </h3>
      <div id="result"></div>
    </div>

      <script>

      </script>
      <style>
        .wrap{
          width: 800px;
          display: flex;
        }
        .ObjForm,
        .resultBlock{
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          box-sizing: border-box;
          padding: 10px 20px;
        }

        .assigned{
          width: 300px;
          display: flex;
        }
        .createResult header{
          font-weight: 700;
        }
      </style>
    <script>
    </script>
</body>
</html>
